{% extends 'base.html' %}
{% block content %}

<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    background-color: #f9f9f9;
    color: #333;
    padding: 2rem;
  }

  h1, h2 {
    color: #2c3e50;
  }

  ul {
    list-style: none;
    padding-left: 0;
  }

  li {
    background: #fff;
    margin: 10px 0;
    padding: 12px 16px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
  }

  .item-content {
    flex: 1 1 auto;
    margin-right: 10px;
  }

  .edit-button, .add-button {
    background-color: #3498db;
    color: white;
    padding: 6px 12px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    text-decoration: none;
    font-size: 14px;
    display: inline-block;
  }

  .edit-button:hover, .add-button:hover {
    background-color: #2980b9;
  }

  .refresh-button {
    background-color: #3498db;
    color: white;
    padding: 14px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 18px;
    width: 90%;
    margin: 0 auto 2rem auto;
    display: block;
    text-align: center;
  }

  a {
    color: #3498db;
    text-decoration: none;
    font-weight: bold;
  }

  a:hover {
    text-decoration: underline;
  }

  strong {
    color: #2c3e50;
  }

  hr {
    border: none;
    border-top: 2px solid #ddd;
    margin: 2rem 0;
  }

  p {
    margin: 6px 0;
  }

  .course-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: 1rem;
  }

  .add-button {
    margin-top: 10px;
    margin-bottom: 30px;
  }
</style>


<div class="course-header">
  <h1>–ö—É—Ä—Å: {{ course.content }}</h1>

</div>

<p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> {{ course.category }}</p>
<p><strong>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong> {{ course.topic }}</p>
<p><strong>–ë–ª–æ–∫–æ–≤:</strong> {{ course.blocks }}</p>
<a href="/admin/coapp/course/{{ course.id }}/change/" target="_blank" class="edit-button">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—É—Ä—Å</a>
<hr>

<h2>üìÑ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã (CourseExercise)</h2>
<ul>
  {% for ex in exercises %}
  <li>
    <div class="item-content">
      <strong>{{ ex.name }}</strong> (–ë–ª–æ–∫ {{ ex.block_number }}) ‚Äî
      <a href="{{ ex.pdf_file.url }}" target="_blank">–û—Ç–∫—Ä—ã—Ç—å PDF</a>
    </div>
    <a href="/admin/coapp/courseexercise/{{ ex.id }}/change/" target="_blank" class="edit-button">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
  </li>
  {% empty %}
  <li>–ù–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</li>
  {% endfor %}
</ul>
<a href="/admin/coapp/courseexercise/add/" target="_blank" class="add-button">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç</a>

<hr>

<h2>üìÑ –°—Ä–æ–∫–∏ –∏ —Ü–µ–Ω—ã (CourseTimeToBeat)</h2>
<ul>
  {% for tp in time_prices %}
  <li>
    <div class="item-content">
      {{ tp.time }} ‚Äî {{ tp.price }} ‚ÇΩ
    </div>
    <a href="/admin/coapp/coursetimetobeat/{{ tp.id }}/change/" target="_blank" class="edit-button">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
  </li>
  {% empty %}
  <li>–ù–µ—Ç —Å—Ä–æ–∫–æ–≤</li>
  {% endfor %}
</ul>
<a href="/admin/coapp/coursetimetobeat/add/" target="_blank" class="add-button">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç</a>

<hr>

<h2>üìÑ –¢–µ—Å—Ç—ã (Test)</h2>
<ul>
  {% for t in tests %}
  <li>
    <div class="item-content">
      <a href="/admin/coapp/test/{{ t.id }}/change/" target="_blank">
        ‚úèÔ∏è <strong>–¢–µ—Å—Ç –¥–ª—è –±–ª–æ–∫–∞ {{ t.block_number }}</strong>
      </a>
      <br>
      {% if not t.questions.exists %}
        <a href="/test/{{ t.id }}/create/" target="_blank">
           ‚úèÔ∏è <strong>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –±–ª–æ–∫–∞ {{ t.block_number }}</strong>
        </a>
        <br>
      {% endif %}
      <br>

      {% for q in t.questions.all %}
        <div style="margin-left: 20px;">
          <a href="/admin/coapp/question/{{ q.id }}/change/" target="_blank">
            ‚úèÔ∏è <strong>–í–æ–ø—Ä–æ—Å {{ q.position }}:</strong> {{ q.question }}
          </a>
          <div style="margin-left: 20px;">
            1. {{ q.text_1 }} {% if q.is_1correct %}<strong>(‚úî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π)</strong>{% endif %}
          </div>
          <div style="margin-left: 20px;">
            2. {{ q.text_2 }} {% if q.is_2correct %}<strong>(‚úî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π)</strong>{% endif %}
          </div>
          <div style="margin-left: 20px;">
            3. {{ q.text_3 }} {% if q.is_3correct %}<strong>(‚úî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π)</strong>{% endif %}
          </div>
          <div style="margin-left: 20px;">
            4. {{ q.text_4 }} {% if q.is_4correct %}<strong>(‚úî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π)</strong>{% endif %}
          </div>
        </div>
        <br>
      {% endfor %}
    </div>
  </li>
  {% empty %}
  <li>–ù–µ—Ç —Ç–µ—Å—Ç–æ–≤</li>
  {% endfor %}
</ul>

        <a href="/admin/coapp/test/add/" target="_blank" class="add-button">–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç</a><br>


<br><br><br><br>
<button class="refresh-button" onclick="location.reload()">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>

{% endblock %}
